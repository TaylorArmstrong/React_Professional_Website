<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#000000" />
    <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!-- Import Google Icon Font -->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Import materialize.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="http://unpkg.com/tachyons-images@1.0.12/css/tachyons-images.min.css" />
    
    <title>Taylor Armstrong</title>
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.2.4/email.min.js"></script>
    <script type="text/javascript">
      (function () {
        emailjs.init("user_RZNcFPTFWzjSMbGjkebFZ")
      })();
    </script>
    <script>
      window.onload = function () {
        document.getElementById('contact_form').addEventListener('submit', function (event) {
          event.preventDefault()
          const emailContent = document.getElementById('content')
          let messageSent = document.createElement("div")

          if (!emailContent.value) return window.alert('please enter a message')

          this.contact_number.value = Math.random() * 100000 | 0
          emailjs.sendForm('gmail', 'template_jOibbpRw', this)

          messageSent.className = "sentSuccess"
          messageSent.innerHTML = 'Message Sent!'
          sendAlert()

          function sendAlert() {
            setTimeout(function () {
            if (document.body.contains(messageSent)) {
                window.clearTimeout(removeMessageSentAlert);
              } else {
                // insert warningBox after myTextbox
                emailContent.parentNode.insertBefore(messageSent, emailContent.nextSibling)
                document.querySelectorAll('input').forEach(x => x.value = '')
                emailContent.value = ''
              }}, 500)
          
            removeMessageSentAlert = window.setTimeout(function () {
                messageSent.parentNode.removeChild(messageSent);
                messageSent = -1;
              }, 2000)
            }
          })
      }
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
    <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Import jQuery before materialize.js -->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
    <!-- And then your bundled js -->
    <script src="path/to/your/bundle.js"></script>
  </body>
</html>
